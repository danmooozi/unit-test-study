# Chapter1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ ê¸°ì´ˆ

## 1.2 ë‹¨ìœ„í…ŒìŠ¤íŠ¸ì˜ ì •ì˜

### í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•  ëŒ€ìƒ

- ì£¼ì²´(subject)
- ì‹œìŠ¤í…œ(system)
- í…ŒìŠ¤íŠ¸ ë‹¤ìƒ(Suite Under Test, SUT)

```text
ðŸ“š TIP
SUTëŠ” í…ŒìŠ¤íŠ¸ ì¤‘ì¸ ì£¼ì œ, ì‹œìŠ¤í…œ, í…ŒìŠ¤íŠ¸ì˜ ëª¨ìŒ(Suite)ì„ ì˜ë¯¸í•œë‹¤. ì¼ë¶€ ì‚¬ëžŒë“¤ì€ ì»´í¬ë„ŒíŠ¸ í´ëž˜ìŠ¤ ì½”ë“œë¥¼ ì˜ë¯¸í•˜ëŠ” CUT(Component, class, code Under Test)ë¼ëŠ” ìš©ì–´ë¥¼ ì“°ê¸°ë„ í•œë‹¤. í…ŒìŠ¤íŠ¸í•˜ê³ ìž í•˜ëŠ” ì£¼ìš” ëŒ€ìƒì„ SUTë¼ê³  í•œë‹¤.
```

### ìž‘ì—… ë‹¨ìœ„

- `ì§„ìž…ì ` -> `ì¢…ë£Œì `ê¹Œì§€, ëˆˆì— ë„ëŠ” ê²°ê³¼ê°€ ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ ë°œìƒí•˜ëŠ” ëª¨ë“  ìž‘ì—…ì„ ì˜ë¯¸í•œë‹¤.
- í•¨ìˆ˜ì˜ `body` -> ìž‘ì—… ë‹¨ìœ„ ì „ì²´ë‚˜ ì¼ë¶€ë¥¼ ì˜ë¯¸
- í•¨ìˆ˜ì˜ `ì„ ì–¸ê³¼ ì„œëª…`ì€ bodyë¡œì˜ ì§„ìž…ì 
- í•¨ìˆ˜ì˜ `ì¶œë ¥ì´ë‚˜ ì‹¤í–‰ê²°ê³¼`ëŠ” í•¨ìˆ˜ì˜ ì¢…ë£Œì 

## 1.3 ì§„ìž…ì ê³¼ ì¢…ë£Œì 

- ìž‘ì—… ë‹¨ìœ„ëŠ” ì§„ìž…ì ê³¼ ì¢…ë£Œì ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìžˆë‹¤.
- ìž‘ì—… ë‹¨ìœ„ëŠ” `ì˜ë¯¸ ìžˆëŠ” ìž‘ì—…`ì„ í•œë‹¤.
  - `ì˜ë¯¸ ìžˆëŠ” ìž‘ì—…`ì´ëž€ ê°„ë‹¨ížˆ ê°’ì„ ë°˜í™˜í•œëŠ ê²ƒë¶€í„° ìƒíƒœë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì„œë“œ íŒŒí‹° ì½”ë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë“± ë­”ê°€ ëˆˆì— ë„ëŠ” ë™ìž‘ì„ ì˜ë¯¸í•œë‹¤.
- ì´ëŸ¬í•œ ë™ìž‘ì„ `ì¢…ë£Œì `ì´ë¼ê³  í•œë‹¤.

```text
ðŸ» ìƒê°
ì €í¬ serverì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìƒê°í•´ë³´ë©´ describeê°€ ìž‘ì—…ë‹¨ìœ„ì´ê³  testê° ê° ì¢…ë£Œì ì´ ì•„ë‹ê¹Œ ì‹¶ë„¤ìš©
```

```text
ðŸ“š TIP
ì½”ë“œë¥¼ ìž‘ì„±í•  ë•Œì—ëŠ” queryì™€ commandê°€ ìžˆë‹¤. queryëŠ” ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ê°’ë§Œì„ ë³€ê²½í•œë‹¤. commandëŠ” ìƒíƒœë¥¼ ë³€ê°•í•˜ì§€ë§Œ ê°’ì„ ë°˜í™˜í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë³´í†µì€ ë‘˜ì„ ê²°í•©í•´ì„œ ì‚¬ìš©í•˜ì§€ë§Œ ë‘ ì•¡ì…˜ì„ ë¶„ë¦¬í•´ì„œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì„ ë•Œê°€ ë§Žë‹¤.

queryëŠ” util í•¨ìˆ˜ ê°™ê³ ... commandëŠ” í .. í‰ì†Œì— ìž˜ì“°ì§€ ì•ŠëŠ” ê²ƒ ê°™ë„¤ìš”. ë¶„ë¦¬ë¥¼ í•´ì•¼í•œë‹¤ë©´ ëª¨ë“  í•¨ìˆ˜ë“¤ì„ ì¢€ ì„¸ë¶„í™” í•˜ë¼ëŠ” ì´ì•¼ê¸° ê°™ì•„ìš”
```

### ì˜ˆì œ ì½”ë“œ

```javascript
let total = 0;

const totalSoFar = () => {
    return total;
}

const logger = makeLogger();

const sum = (numbers) => {
    const [a,b] = numbers.split(',');

    logger.info('this is a very important log output', {
        firstNumWas: a,
        secondNumWas: b
    })

    const result = Number.parseInt(a, 10) + Number.parseInt(b, 10);
    total += result;
    return result;
}
```

ìœ„ ì½”ë“œì—ì„œëŠ” 3ê°€ì§€ ì¢…ë£Œì ì´ ìžˆë‹¤.

1. resultë¥¼ ë°˜í™˜
2. totalì˜ ê°‘ ë³€í™”
3. loggerë¼ëŠ” ì„œë“œíŒŒí‹° í•¨ìˆ˜ í˜¸ì¶œ

## 1.4 ì¢…ë£Œì ì˜ ìœ í˜•

ìœ„ ì¢…ë£Œì ì˜ ê° ìœ í˜•ì€

1. undefinedê°€ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•œë‹¤. `(ë°˜í™˜ ê°’ì„ í™•ì¸)`
2. í˜¸ì¶œ ì „ê³¼ í›„ì˜ ìƒíƒœê°’ì´ ë‹¬ë¼ì ¸ **ë‚´ë¶€ ìƒíƒœë¥¼ ì§ì ‘ ë³´ì§€ ì•Šê³ ë„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.** `(ë‹¬ë¼ì§„ ìƒíƒœ ê°’ í™•ì¸)`
3. ì½”ë“œ ì‹¤í–‰ ì£¼ë„ê¶Œì´ ì—†ëŠ” ì„œë“œ íŒŒí‹° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. `(í˜¸ì¶œ í–ˆëŠ”ì§€ í™•ì¸)`
   - ì‹¤í–‰ ì£¼ë„ê¶Œì´ ì—†ë‹¤ëŠ” ê²ƒì€ Loggerì˜ ì½”ë“œë¥¼ ìš°ë¦¬ê°€ ìž‘ì„±í•˜ì§€ ì•Šì€ ê²½ìš°ì´ë‹¤.

ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ìž‘ì—… ë‹¨ìœ„ë¥¼ í˜¸ì¶œí•˜ê³  íŠ¹ì • ì¢…ë£Œì ì„ í…ŒìŠ¤íŠ¸ ê²€ì¦ì„ ëª©í‘œë¡œ ì‚¬ìš©í•œë‹¤.
ìµœì¢…ê²°ê³¼ê°€ í…ŒìŠ¤íŠ¸ê°€ ê²€ì¦í•˜ê³ ìž í•˜ëŠ” ë°”ì™€ ë‹¤ë¥´ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•œë‹¤.

## 1.5 ë‹¤ë¥¸ ì¢…ë£Œì , ë‹¤ë¥¸ ê¸°ë²•

ì¢…ë£Œì  ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì½”ë“œ ê´€ë¦¬ ì¸¡ë©´ì—ì„œ ìœ ë¦¬í•˜ê³  ì¢…ë£Œì  ì¢…ë¥˜ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ë°©ë²•ì´ ë‹¤ì†Œ ë‹¤ë¥´ë‹¤.

- **ë°˜í™˜ê°’ì´ ìžˆëŠ” ì¢…ë£Œì **: ìž‘ì—… ë‹¨ìœ„ë¥¼ ì‹¤í–‰í•˜ì—¬ ì§„ìž…ì ì„ í˜¸ì¶œí•˜ê³  ì‹¤í–‰ ê²°ê³¼ ê°’ì„ í™•ì¸
- **ìƒíƒœê°’ì„ ë³€ê²½í•˜ëŠ” ì¢…ë£Œì **: ì–´ë–¤ ê²ƒì„ í˜¸ì¶œ í›„ ë‹¤ë¥¸ ê²ƒì„ í˜¸ì¶œí•˜ì—¬ í™•ì¸ í˜¹ì€ ì´ì „ì— í˜¸ì¶œí•œ ê²ƒì„ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ëª¨ë“ ê²ƒì´ ì˜ë„ëŒ€ë¡œ í˜ëŸ¬ê°”ëŠ”ì§€ í™•ì¸
- **ì„œë“œíŒŒí‹°ë¥¼ í˜¸ì¶œí•˜ëŠ” ì¢…ë£Œì **: ëª¨ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ìž„ì˜ë¡œ ì¡°ìž‘í•˜ëŠ” ë°©ë²•

ì´ì¤‘ ì„œë“œíŒŒí‹°ë¥¼ í˜¸ì¶œí•˜ëŠ”(ëª¨ì˜ ê°ì²´ë¡œ í…ŒìŠ¤íŠ¸) ì¢…ë£Œì ì´ ì œì¼ ê¹Œë‹¤ë¡­ë‹¤ê³  í•œë‹¤.

## 1.6 ì²˜ìŒë¶€í„° í…ŒìŠ¤íŠ¸ì½”ë“œ ìž‘ì„±

```javascript
const sum = (numbers) => {
    const [a,b] = numbers.split(',');
    const result =  parseInt(a) + parseInt(b);

    return result;
}
```

ìœ„ ì½”ë“œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìž‘ì„±í•´ë³´ë©´ í”„ë ˆì´ì›Œí¬ ì—†ì´!

```javascript
const parseInt = () => {
    try{
        const result = sum('1,2');
        if ( result === 3) {
            console.log('parserTest example 1 PASSED');
        } else {
            throw new Error (`arserTest: expected 3 but was ${result}`);
        }
    } catch (e) {
        console.error(e);
    }
}
```
